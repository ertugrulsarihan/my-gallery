{"version":3,"sources":["Components/Title.js","Firebase/firebase.js","hooks/useStorage.js","Components/ProgressBar.js","Components/UploadForm.js","Components/ImageGrid.js","hooks/useFirestore.js","Components/Modal.js","App.js","index.js"],"names":["Title","className","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","useStorage","file","useState","progress","setProgress","error","setError","url","setUrl","useEffect","storageRef","ref","name","collectionRef","collection","put","on","snap","yuzdelik","bytesTransferred","totalBytes","err","a","getDownloadURL","createdDate","add","ProgressBar","setFile","console","log","style","width","opacity","UploadForm","types","type","onChange","e","selected","target","files","includes","ImageGrid","setSelectedImg","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","doc","push","data","id","useFirestore","motion","div","whileHover","layout","map","onClick","img","src","alt","fileName","initial","animate","transition","delay","Modal","selectedImg","classList","contains","y","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.820aecd6.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Title() {\r\n  return (\r\n    <div className=\"title\">\r\n      <h1>My Gallery</h1>\r\n      <h2>Add Your Photos</h2>\r\n    </div>\r\n  );\r\n}\r\n","import  firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDlai41S3XQoW0RTaDFuT6E2v9klSAoobk\",\r\n    authDomain: \"my-gallery-app-69ccf.firebaseapp.com\",\r\n    projectId: \"my-gallery-app-69ccf\",\r\n    storageBucket: \"my-gallery-app-69ccf.appspot.com\",\r\n    messagingSenderId: \"713438984994\",\r\n    appId: \"1:713438984994:web:a5f0cebb0ad18dcf2b037b\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  const projectStorage=firebase.storage();\r\n  const projectFirestore=firebase.firestore();\r\n  const timestamp=firebase.firestore.FieldValue.serverTimestamp;\r\n  export {projectFirestore,projectStorage,timestamp}\r\n","import { useEffect, useState } from \"react\";\r\nimport {\r\n  projectStorage,\r\n  projectFirestore,\r\n  timestamp,\r\n} from \"../Firebase/firebase\";\r\n\r\nconst useStorage = (file) => {\r\n  const [progress, setProgress] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const storageRef = projectStorage.ref(file.name);\r\n\r\n    const collectionRef = projectFirestore.collection(\"Images\");\r\n\r\n    storageRef.put(file).on(\r\n      \"state_changed\",\r\n      (snap) => {\r\n        let yuzdelik = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n        setProgress(yuzdelik);\r\n      },\r\n      (err) => {\r\n        setError(err);\r\n      },\r\n      async () => {\r\n        const url = await storageRef.getDownloadURL();\r\n        setUrl(url);\r\n        const createdDate = timestamp();\r\n        collectionRef.add({\r\n          'url':url,\r\n          'createdDate':createdDate,\r\n         'fileName':file.name\r\n        });\r\n      }\r\n    );\r\n  }, [file]);\r\n  return { progress, error, url };\r\n};\r\n\r\nexport default useStorage;\r\n","import React, { useEffect } from 'react'\r\nimport useStorage from '../hooks/useStorage';\r\n\r\nconst ProgressBar=({file,setFile})=>{\r\n const {url,progress}=useStorage(file);\r\n console.log(progress,url);\r\n \r\n useEffect(()=>{\r\n     if(url){\r\n         setFile(null)\r\n     }\r\n },[url,setFile])\r\n\r\n return(\r\n     <div className='progress-bar'style={{width:progress+'%',opacity:0.2}}>\r\n         \r\n     </div>\r\n )\r\n}\r\n\r\nexport default ProgressBar;","import React, { useState } from \"react\";\r\nimport ProgressBar from './ProgressBar';\r\n\r\nexport default function UploadForm() {\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const types = [\"image/png\", \"image/jpeg\"];\r\n\r\n  const changeHandle = (e) => {\r\n    let selected = e.target.files[0];\r\n    console.log(selected);\r\n    if (selected && types.includes(selected.type)) {\r\n      setFile(selected);\r\n      setError(\"\");\r\n    } else {\r\n      setFile(null);\r\n      setError(\"Please upload supported form!(png,jpeg)\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form>\r\n      <label>\r\n      <input type=\"file\" onChange={changeHandle} />\r\n      <span>+</span>\r\n      </label>\r\n      \r\n      {file && <div>{file.name}</div>}\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {file && <ProgressBar file={file} setFile={setFile} />}\r\n    </form>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport useFirestore from \"../hooks/useFirestore\";\r\nimport { animate, motion } from \"framer-motion\";\r\n\r\nconst ImageGrid = ({ setSelectedImg }) => {\r\n  const { docs } = useFirestore(\"Images\");\r\n  console.log(docs);\r\n\r\n  return (\r\n    <motion.div className=\"img-grid\" whileHover={{ opacity: 1 }} layout>\r\n      {docs &&\r\n        docs.map((doc) => (\r\n          <motion.div\r\n            className=\"img-wrap\"\r\n            onClick={() => setSelectedImg(doc.url)}\r\n            whileHover={{ opacity: 1 }}\r\n            layout\r\n          >\r\n            <motion.img\r\n              src={doc.url}\r\n              alt={doc.fileName}\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{delay:1}}\r\n            />\r\n          </motion.div>\r\n        ))}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default ImageGrid;\r\n","import React,{ useState, useEffect } from \"react\";\r\nimport { projectFirestore} from \"../Firebase/firebase\";\r\n\r\nexport default function useFirestore(collection) {\r\n  const [docs, setDocs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const unsub = projectFirestore\r\n      .collection(collection)\r\n      .orderBy(\"createdDate\", \"desc\")\r\n      .onSnapshot((snap) => {\r\n        let documents=[];\r\n        snap.forEach((doc)=>{\r\n          documents.push({...doc.data(),id:doc.id})\r\n        });\r\n        setDocs(documents);\r\n      });\r\n      return ()=>unsub();\r\n  }, [collection]);\r\n\r\n  return {docs};\r\n}\r\n\r\n","import React from 'react';\r\nimport { animate, motion } from \"framer-motion\";\r\n\r\nexport default function Modal({selectedImg,setSelectedImg}) {\r\n    const handleClick=(e)=>{\r\n     if(e.target.classList.contains('backdrop')){\r\n         setSelectedImg(null);\r\n     }\r\n    }\r\n    return (\r\n        <motion.div className='backdrop' onClick={handleClick} initial={{opacity:1}} animate={{opacity:1}} >\r\n            <motion.img src={selectedImg} alt='' initial={{y:'-400vh'}} animate={{y:0}} />\r\n        </motion.div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\nimport Title from './Components/Title';\nimport './App.css';\nimport UploadForm from './Components/UploadForm';\nimport ImageGrid from './Components/ImageGrid';\nimport Modal from './Components/Modal';\n\nexport default function App() {\n  const [selectedImg,setSelectedImg]=useState(null);\n  return (\n    <div className='App'>\n      <Title/>\n      <UploadForm/>\n      <ImageGrid setSelectedImg={setSelectedImg} />\n      {selectedImg && <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg}/> }\n    </div>\n  )\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}